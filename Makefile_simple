CC=g++
CFLAGS=-c ./build -Wall
LDFLAGS=-I ./headers
FLAGS=-o build/$@

all: main

main: main.o in_out_func.o solve_func.o unit_tests.o my_printf.o
	$(CC) build/main.o build/in_out_func.o build/solve_func.o build/unit_tests.o build/my_printf.o $(LDFLAGS) $(FLAGS)

main.o: sources/main.cpp
	$(CC) $(CFLAGS) $< $(LDFLAGS) $(FLAGS)

in_out_func.o: sources/in_out_func.cpp
	$(CC) $(CFLAGS) $< $(LDFLAGS) $(FLAGS)

solve_func.o: sources/solve_func.cpp
	$(CC) $(CFLAGS) $< $(LDFLAGS) $(FLAGS)

unit_tests.o: sources/unit_tests.cpp
	$(CC) $(CFLAGS) $< $(LDFLAGS) $(FLAGS)

my_printf.o: sources/my_printf.cpp
	$(CC) $(CFLAGS) $< $(LDFLAGS) $(FLAGS)

clean:
	rm -rf *.o main
